<?xml version="1.0" encoding="UTF-8"?>
<!--
   - Copyright (c) 2018, The Tor Project, Inc.
   - See LICENSE for licensing information.
   - vim: set sw=2 sts=2 ts=8 et syntax=xml:
  -->

<!DOCTYPE html [
  <!ENTITY % htmlDTD
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "DTD/xhtml1-strict.dtd">
  %htmlDTD;
  <!ENTITY % globalDTD SYSTEM "chrome://global/locale/global.dtd">
  %globalDTD;
  <!ENTITY % aboutTorDTD SYSTEM "chrome://torbutton/locale/aboutTor.dtd">
  %aboutTorDTD;
]>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>&aboutTor.title;</title>
  <link rel="stylesheet" type="text/css" media="all"
        href="resource://torbutton-assets/aboutTor.css"/>
<script type="text/javascript">
 <![CDATA[
window.addEventListener("pageshow", function() {
  let evt = new CustomEvent("AboutTorLoad", { bubbles: true });
  document.dispatchEvent(evt);
});
]]>
</script>
</head>
<body dir="&locale.dir;">
  <div id="donation-banner">
    <div id="donation-banner-image"></div>
    <div id="donation-banner-lines">
      <div id="donation-banner-line1">&aboutTor.donationBanner.line1;</div>
      <div id="donation-banner-line2"
           data-0="&aboutTor.donationBanner.line2a;"
           data-1="&aboutTor.donationBanner.line2b;"
           data-2="&aboutTor.donationBanner.line2c;"
           data-3="&aboutTor.donationBanner.line2d;"
           data-4="&aboutTor.donationBanner.line2e;"
           data-5="&aboutTor.donationBanner.line2f;">
        &aboutTor.donationBanner.line2a;
      </div>
      <div id="donation-banner-line3">&aboutTor.donationBanner.line3;</div>
      <button id="donation-banner-button"
              type="button"
              data-0="&aboutTor.donationBanner.buttonA;"
              data-1="&aboutTor.donationBanner.buttonB;">
        &aboutTor.donationBanner.buttonA;
      </button>
    </div>
    <div id="donation-banner-closer">&times;</div>
  </div>
  <script>
    let lineChoice = Math.floor(Math.random() * 6);
    let line2 = document.getElementById("donation-banner-line2");
    line2.innerHTML = line2.getAttribute(`data-${lineChoice}`);
    let buttonChoice = Math.floor(Math.random() * 2);
    let button = document.getElementById("donation-banner-button");
    button.innerHTML = button.getAttribute(`data-${buttonChoice}`);
    button.addEventListener("click", () => {
      document.location.href = `https://www.torproject.org/donate/donate-sin-tbd${lineChoice}-${buttonChoice}`;
    });
  </script>
  <div id="torstatus-version"/>
  <div class="torcontent-container">
    <div id="torstatus" class="top">
      <div id="torstatus-on-container" class="hideIfTorOff torstatus-container">
        <div class="heading1">&aboutTor.ready.label;</div>
        <br/>
        <div class="heading2">&aboutTor.ready2.label;</div>
      </div>
      <div id="torstatus-off-container" class="hideIfTorOn torstatus-container">
        <div class="heading1">&aboutTor.failure.label;</div>
        <br/>
        <div class="heading2">&aboutTor.failure2.label;</div>
      </div>
    </div>

    <div class="searchbox hideIfTorOff"> <!-- begin form based search -->
      <form action="&aboutTor.searchDDGPost.link;" method="post">
        <div class="searchwrapper">
          <label class="searchlabel" for="search-text">&nbsp;</label>
          <input name="q" id="search-text" placeholder="&aboutTor.search.label;"
                 autocomplete="off" type="text"/>
          <input name="b" id="search-button" value=""
                 title="&aboutTor.search.label;"
                 alt="&aboutTor.search.label;" type="submit"/>
        </div>
      </form>
    </div>

    <div id="bottom">
      <p class="showForManual moreInfoLink">&aboutTor.torbrowser_user_manual_questions.label;
        <a id="manualLink" target="_blank">&aboutTor.torbrowser_user_manual_link.label;</a></p>
      <p>&aboutTor.tor_mission.label;
        <a href="&aboutTor.getInvolved.link;">&aboutTor.getInvolved.label;</a></p>
    </div>
  </div>

<!--
   - The abstract onion pattern begins here. There are two
   - "onion-pattern-row" elements, each containing 14 circles. The width
   - of "onion-pattern-row" is fixed at a value that is wide enough so the
   - circles are not distorted by the flex-based layout. The parent
   - "onion-pattern-container" element has overflow: hidden and is designed
   - to expand to the width of the page, until it reaches a maximum width
   - that can accommodate all 14 circles. Since the rows are wider than
   - most browser windows, typically the two rows of onions will fill the
   - bottom of the page. On really wide pages, the onions are centered at
   - the bottom of the page.
  -->
  <div class="onion-pattern-container">
    <div class="onion-pattern-row">
      <div class="circle solid"></div>

      <div class="circle border"></div>

      <div class="circle border">
        <div class="inner border"></div>
        <div class="inner border"></div>
        <div class="inner border"></div>
      </div>

      <div class="circle">
        <div class="half solid"></div>
        <div class="half dotted"></div>
      </div>

      <div class="circle dotted"></div>

      <div class="circle dotted">
        <div class="inner dotted"></div>
        <div class="inner dotted"></div>
        <div class="inner dotted"></div>
      </div>

      <div class="circle dashed"></div>

      <div class="circle dashed">
        <div class="inner dashed"></div>
        <div class="inner dashed"></div>
        <div class="inner dashed"></div>
      </div>

      <div class="circle bold"></div>

      <div class="circle solid"></div>

      <div class="circle dotted">
        <div class="inner dotted"></div>
        <div class="inner dotted"></div>
        <div class="inner dotted"></div>
      </div>

      <div class="circle border">
        <div class="inner border"></div>
        <div class="inner border"></div>
        <div class="inner border"></div>
      </div>

      <div class="circle">
        <div class="half solid"></div>
        <div class="half solid"></div>
      </div>

     <div class="circle dashed">
        <div class="inner dashed"></div>
        <div class="inner dashed"></div>
        <div class="inner dashed"></div>
      </div>

      <div class="circle dotted"></div>

      <div class="circle dotted">
        <div class="inner dotted"></div>
        <div class="inner dotted"></div>
        <div class="inner dotted"></div>
      </div>

      <div class="circle dashed"></div>

      <div class="circle dashed">
        <div class="inner dashed"></div>
        <div class="inner dashed"></div>
        <div class="inner dashed"></div>
      </div>

      <div class="circle bold"></div>

      <div class="circle solid"></div>
    </div>

    <div class="onion-pattern-row onion-pattern-offset-row">
      <div class="circle dashed">
        <div class="inner dashed"></div>
        <div class="inner dashed"></div>
        <div class="inner dashed"></div>
      </div>

      <div class="circle bold"></div>

      <div class="circle solid"></div>

      <div class="circle dotted">
        <div class="inner dotted"></div>
        <div class="inner dotted"></div>
        <div class="inner dotted"></div>
      </div>

      <div class="circle border">
        <div class="inner border"></div>
        <div class="inner border"></div>
        <div class="inner border"></div>
      </div>

      <div class="circle">
        <div class="half solid"></div>
        <div class="half solid"></div>
      </div>

     <div class="circle dashed">
        <div class="inner dashed"></div>
        <div class="inner dashed"></div>
        <div class="inner dashed"></div>
      </div>

      <div class="circle solid"></div>

      <div class="circle border"></div>

      <div class="circle border">
        <div class="inner border"></div>
        <div class="inner border"></div>
        <div class="inner border"></div>
      </div>

      <div class="circle">
        <div class="half solid"></div>
        <div class="half dotted"></div>
      </div>

      <div class="circle dotted"></div>

      <div class="circle dotted">
        <div class="inner dotted"></div>
        <div class="inner dotted"></div>
        <div class="inner dotted"></div>
      </div>

      <div class="circle dashed"></div>

      <div class="circle solid"></div>

      <div class="circle dashed">
        <div class="inner dashed"></div>
        <div class="inner dashed"></div>
        <div class="inner dashed"></div>
      </div>

      <div class="circle border">
        <div class="inner border"></div>
        <div class="inner border"></div>
        <div class="inner border"></div>
      </div>

      <div class="circle">
        <div class="half solid"></div>
        <div class="half solid"></div>
      </div>

      <div class="circle dotted">
        <div class="inner dotted"></div>
        <div class="inner dotted"></div>
        <div class="inner dotted"></div>
      </div>

      <div class="circle">
        <div class="half solid"></div>
        <div class="half dotted"></div>
      </div>

      <div class="circle dotted"></div>
    </div>
  </div>
</body>
</html>
